
                        <!DOCTYPE html>
                        <html lang="en">
                        <head>
                            <meta charset="UTF-8">
                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <style>
                body {
                  background-color: white; /* Ensure the iframe has a white background */
                }

                /* style.css */
:root {
  --bg: #000;
  --text: #00ff00;
  --warn: #ffff00;
  --error: #ff0000;
  --panel-bg: #0a0a1a;
}

* {
  margin: 0; padding: 0; box-sizing: border-box;
}

.retro-terminal {
  background: var(--bg);
  color: var(--text);
  font-family: 'Orbitron', 'Share Tech Mono', 'Courier New', monospace;
  line-height: 1.4;
  overflow: hidden;
  height: 100vh;
}

.header-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 16px;
  background: var(--panel-bg);
  border-bottom: 1px solid #004400;
  font-size: 14px;
  text-transform: uppercase;
}

.title { letter-spacing: 3px; }
.status { font-weight: bold; color: var(--error); }

.main-layout {
  display: flex;
  height: calc(100vh - 90px);
}

#map-container {
  flex: 2;
  background: #020202;
  position: relative;
}

#world-map {
  width: 100%;
  height: 100%;
  display: block;
}

#event-log {
  flex: 1;
  background: var(--panel-bg);
  padding: 12px;
  overflow-y: auto;
  font-size: 12px;
}

.log-title {
  font-family: 'Cinzel', serif;
  font-size: 16px;
  margin-bottom: 10px;
  text-align: center;
  text-shadow: 0 0 6px var(--text);
}

.log-entry {
  margin: 4px 0;
  padding: 4px 0;
  border-bottom: 1px dashed #003300;
}
.log-entry.warn { color: var(--warn); }
.log-entry.error { color: var(--error); }

.control-panel {
  display: flex;
  gap: 8px;
  padding: 8px;
  background: #050515;
  justify-content: center;
}

button {
  padding: 8px 16px;
  background: #111;
  color: var(--text);
  border: 1px solid #008800;
  font-family: inherit;
  font-size: 12px;
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.2s;
}
button:hover { background: #003300; }
.btn-red {
  background: #300;
  border-color: var(--error);
  color: var(--error);
  text-shadow: 0 0 6px var(--error);
}
.btn-red:hover { background: #500; }

/* –ê–Ω–∏–º–∞—Ü–∏–∏ */
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.2; }
}
.blink { animation: blink 1s infinite; }

/* –ê–¥–∞–ø—Ç–∏–≤ */
@media (max-width: 1200px) {
  .main-layout { flex-direction: column; height: auto; }
  #map-container, #event-log { flex: 1; min-height: 300px; }
}

@media (max-width: 768px) {
  .header-bar { flex-direction: column; gap: 4px; text-align: center; }
  .control-panel { flex-wrap: wrap; }
  button { flex: 1; min-width: 120px; }
}


              </style>
                        </head>
                        <body>
                            <!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°–ü–£–¢–ù–ò–ö–û–í–´–ô –ú–û–ù–ò–¢–û–†–ò–ù–ì ‚Äû–ó–ï–ù–ò–¢-7‚Äú</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&family=Cinzel:wght@700&display=swap" rel="stylesheet">
</head>
<body class="retro-terminal">
  <div id="screen-overlay"></div>

  <header class="header-bar">
    <div class="title">–°–ü–£–¢–ù–ò–ö–û–í–´–ô –ö–û–ú–ü–õ–ï–ö–° ¬´–ó–ï–ù–ò–¢-7¬ª</div>
    <div id="status-alert" class="status blink">–û–ë–™–ï–ö–¢ –ë–£–†–ê–ù-4: –ê–ö–¢–ò–í–ï–ù</div>
  </header>

  <main class="main-layout">
    <!-- –ö–∞—Ä—Ç–∞ -->
    <div id="map-container">
      <svg id="world-map" viewBox="0 0 1200 600" preserveAspectRatio="xMidYMid meet">
        <!-- –ó–µ–º–ª—è (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –∫–æ–Ω—Ç—É—Ä–Ω–∞—è –∫–∞—Ä—Ç–∞) -->
        <path d="M0,300 L1200,300 L1200,0 L0,0 Z" fill="#050505" stroke="#003300" stroke-width="0.5"/>
        <path d="M200,150 L300,120 L350,200 L250,220 Z" fill="none" stroke="#004400" stroke-width="0.8"/> <!-- –£—Ä–∞–ª -->
        <path d="M500,100 L600,80 L650,180 L550,200 Z" fill="none" stroke="#004400" stroke-width="0.8"/> <!-- –ö–∞—Å–ø–∏–π -->
        <!-- –ù–µ—Ñ—Ç—è–Ω—ã–µ –≤—ã—à–∫–∏ -->
        <g id="oil-rigs"></g>
        <!-- –¢–∞–Ω–∫–µ—Ä—ã -->
        <g id="tankers"></g>
        <!-- –°–ø—É—Ç–Ω–∏–∫–∏ -->
        <g id="satellites"></g>
        <!-- –ë—É—Ä–∞–Ω-4 -->
        <circle id="buran4" cx="680" cy="210" r="6" fill="#ff0000" stroke="#ff8800" stroke-width="1"/>
      </svg>
    </div>

    <!-- –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π -->
    <div id="event-log">
      <div class="log-title">–ñ–£–†–ù–ê–õ –°–û–ë–´–¢–ò–ô</div>
      <div id="log-entries">
        <div class="log-entry">1991.12.25 23:47:01 ‚Äî –ü–æ—Ç–µ—Ä—è —Å–≤—è–∑–∏ —Å –ö–æ—Å–º–æ—Å-2471</div>
        <div class="log-entry warn">1991.12.25 23:48:17 ‚Äî –ê–Ω–æ–º–∞–ª—å–Ω—ã–π –ò–ö-—Å–∏–≥–Ω–∞–ª: 63¬∞N, 72¬∞E</div>
        <div class="log-entry error blink">1991.12.25 23:51:03 ‚Äî –ë–£–†–ê–ù-4: –†–ï–ñ–ò–ú –°–ê–ú–û–ó–ê–©–ò–¢–´</div>
      </div>
    </div>
  </main>

  <nav class="control-panel">
    <button id="btn-radar">–†–ê–î–ê–†</button>
    <button id="btn-archive">–ê–†–•–ò–í</button>
    <button id="btn-game" class="btn-red">–°–ê–ú–û–£–ù–ò–ß–¢–û–ñ–ï–ù–ò–ï</button>
    <button id="btn-report">–û–¢–ß–Å–¢</button>
  </nav>

  <!-- –ó–≤—É–∫–∏ -->
  <script src="assets/beeps.js"></script>
  <!-- –Ø–¥—Ä–∞ -->
  <script src="main.js"></script>
  <script src="radar.js"></script>
  <script src="game.js"></script>
  <script src="report.js"></script>
</body>
</html>

<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä ZIP ‚Äî –ë—É—Ä–∞–Ω-4</title></head>
<body>
  <h2>üì• –°–∫–∞—á–∞—Ç—å –ø—Ä–æ–µ–∫—Ç ¬´–ë—É—Ä–∞–Ω-4¬ª</h2>
  <button id="dl">–°–ö–ê–ß–ê–¢–¨ –ê–†–•–ò–í (ZIP)</button>
  <p>–í –∞—Ä—Ö–∏–≤–µ: index.html, style.css, main.js, game.js, radar.js, report.js, assets/</p>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script>
    document.getElementById('dl').onclick = async () => {
      const zip = new JSZip();

      // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∞–π–ª—ã (—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ –æ—Ç–≤–µ—Ç–∞ –≤—ã—à–µ)
      zip.file("index.html", `<!DOCTYPE html>...`); // ‚Üê –≤—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª–Ω—ã–π index.html
      zip.file("style.css", `:root { ... }`); // ‚Üê style.css
      zip.file("main.js", `let satellitesData = []; ...`); // ‚Üê main.js
      zip.file("game.js", `let gameActive = false; ...`);
      zip.file("radar.js", `window.addEventListener...`);
      zip.file("report.js", `window.addEventListener...`);

      zip.folder("assets").file("beeps.js", `window.sounds = { ... };`);

      const blob = await zip.generateAsync({type:"blob"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'bura4_monitor.zip';
      a.click();
    };
  </script>
</body>
</html>



              <script>
                              // main.js
let satellitesData = [];
let tankers = [
  { x: 200, y: 400, dx: 1.2, dy: -0.3, id: 'tkr-1' },
  { x: 800, y: 350, dx: -0.9, dy: 0.4, id: 'tkr-2' },
  { x: 500, y: 500, dx: 0.7, dy: -0.5, id: 'tkr-3' }
];
let oilRigs = [
  { x: 300, y: 300 }, { x: 450, y: 280 }, { x: 600, y: 320 },
  { x: 250, y: 420 }, { x: 700, y: 380 }
];

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
document.addEventListener('DOMContentLoaded', () => {
  initOilRigs();
  initTankers();
  fetchSatellites(); // CelesTrak
  animate();
  bindEvents();
});

function initOilRigs() {
  const svg = document.getElementById('oil-rigs');
  oilRigs.forEach((rig, i) => {
    const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
    g.innerHTML = `
      <circle cx="${rig.x}" cy="${rig.y}" r="4" fill="#00aa00"/>
      <text x="${rig.x+8}" y="${rig.y+4}" fill="#00ff88" font-size="10">R${i+1}</text>
    `;
    svg.appendChild(g);
  });
}

function initTankers() {
  const svg = document.getElementById('tankers');
  tankers.forEach(t => {
    const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
    g.id = `tanker-${t.id}`;
    g.innerHTML = `
      <polygon points="${t.x},${t.y-6} ${t.x-5},${t.y+4} ${t.x+5},${t.y+4}" 
               fill="#0088ff" stroke="#00ccff" stroke-width="0.5"/>
      <text x="${t.x+8}" y="${t.y+4}" fill="#00ccff" font-size="9">T${t.id.slice(-1)}</text>
    `;
    svg.appendChild(g);
  });
}

function fetchSatellites() {
  // CelesTrak: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –ö–ê –∏–∑ —Å–ø–∏—Å–∫–∞ "active"
  const url = 'https://celestrak.org/NORAD/elements/gp.php?GROUP=active&FORMAT=tle';
  // –î–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞ ‚Äî –∏–º–∏—Ç–∞—Ü–∏—è
  setTimeout(() => {
    satellitesData = [
      { name: 'COSMOS-2471', x: 400, y: 150, r: 3 },
      { name: 'GPS-BIIR-3', x: 900, y: 180, r: 2 },
      { name: 'ISS (ZARYA)', x: 700, y: 250, r: 4 },
      { name: 'HUBBLE', x: 300, y: 300, r: 2 }
    ];
    renderSatellites();
  }, 500);
}

function renderSatellites() {
  const svg = document.getElementById('satellites');
  svg.innerHTML = '';
  satellitesData.forEach(sat => {
    const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    circle.setAttribute('cx', sat.x);
    circle.setAttribute('cy', sat.y);
    circle.setAttribute('r', sat.r);
    circle.setAttribute('fill', '#00ffaa');
    circle.setAttribute('class', 'satellite blink-slow');
    circle.dataset.name = sat.name;
    svg.appendChild(circle);
  });
}

function animate() {
  // –î–≤–∏–∂–µ–Ω–∏–µ —Ç–∞–Ω–∫–µ—Ä–æ–≤
  tankers.forEach(t => {
    t.x += t.dx;
    t.y += t.dy;
    if (t.x < 50 || t.x > 1150) t.dx *= -1;
    if (t.y < 50 || t.y > 550) t.dy *= -1;

    const el = document.getElementById(`tanker-${t.id}`);
    el.querySelector('polygon').setAttribute('points',
      `${t.x},${t.y-6} ${t.x-5},${t.y+4} ${t.x+5},${t.y+4}`
    );
    el.querySelector('text').setAttribute('x', t.x + 8);
    el.querySelector('text').setAttribute('y', t.y + 4);
  });

  requestAnimationFrame(animate);
}

function bindEvents() {
  document.getElementById('buran4').addEventListener('click', () => {
    addLog('‚ö†Ô∏è –ë–£–†–ê–ù-4\n–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: 63¬∞N, 72¬∞E\n–°—Ç–∞—Ç—É—Å: –ê–ö–¢–ò–í–ï–ù\n–ü—Ä–æ—Ç–æ–∫–æ–ª: –û–ö–û –ó–í–ï–†–Ø ‚Äî –ó–ê–ì–†–£–ñ–ï–ù', 'error');
    playSound('alert');
  });

  document.getElementById('satellites').addEventListener('click', e => {
    if (e.target.tagName === 'circle') {
      const name = e.target.dataset.name;
      addLog(`üõ∞Ô∏è ${name} ‚Äî —Å–∏–≥–Ω–∞–ª –ø–æ–ª—É—á–µ–Ω`, 'warn');
    }
  });

  document.getElementById('btn-radar').onclick = () => window.location.href = '#radar';
  document.getElementById('btn-archive').onclick = () => window.location.href = '#archive';
  document.getElementById('btn-game').onclick = () => window.location.href = '#game';
  document.getElementById('btn-report').onclick = () => window.location.href = '#report';
}

function addLog(text, type = 'normal') {
  const log = document.getElementById('log-entries');
  const div = document.createElement('div');
  div.className = `log-entry ${type}`;
  div.textContent = new Date().toISOString().slice(0,19).replace('T',' ') + ' ‚Äî ' + text;
  log.appendChild(div);
  log.scrollTop = log.scrollHeight;
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ
function playSound(name) {
  if (window.sounds && sounds[name]) {
    const audio = new Audio(sounds[name]);
    audio.volume = 0.6;
    audio.play().catch(e => console.warn('Audio blocked'));
  }
}

// assets/beeps.js
window.sounds = {
  beep: "data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFd25ybnNlYF1aV1VTTklFQD05NzUzMTEvLCopJyYlIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEA",
  alert: "data:audio/wav;base64,UklGRiQDAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YUQDAACBhYqFdW9ubGlva2BdW1lWVFFOS0pHRkI/Pjw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAB",
  print: "data:audio/wav;base64,UklGRl4DAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YV4DAA==",
  hum: "data:audio/wav;base64,UklGRiIDAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQIDAACBhYqFeHx/gYOFh4mMjZGSk5aYmZucnqCio6WnqaqrrK6wsbS2uLq...",
  // –°–æ–∫—Ä–∞—â–µ–Ω–æ –¥–ª—è –æ—Ç–≤–µ—Ç–∞ ‚Äî –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏: 4 –∑–≤—É–∫–∞ –ø–æ ~500‚Äì1500 –±–∞–π—Ç base64
};

// game.js
let gameActive = false;

window.addEventListener('hashchange', () => {
  if (location.hash === '#game') showGameScreen();
  else hideGameScreen();
});

function showGameScreen() {
  gameActive = true;
  document.body.insertAdjacentHTML('beforeend', `
    <div id="game-overlay" class="overlay">
      <div class="game-screen">
        <h2>–ú–û–î–£–õ–¨ –°–ê–ú–û–£–ù–ò–ß–¢–û–ñ–ï–ù–ò–Ø ‚Äî –†–ï–ú–û–ù–¢</h2>
        <div id="diagram">
          <svg width="400" height="200">
            <rect x="50" y="50" width="300" height="100" fill="#111" stroke="#00ff00"/>
            <text x="200" y="100" text-anchor="middle" fill="#00ff00">–ë–£–†–ê–ù-4: –¶–ï–ù–¢–†–ê–õ–¨–ù–´–ô –ë–õ–û–ö</text>
            <g id="slots">
              <rect x="90" y="70" width="30" height="30" fill="none" stroke="#ff0000" stroke-dasharray="4,2"/>
              <rect x="180" y="70" width="30" height="30" fill="none" stroke="#ff0000" stroke-dasharray="4,2"/>
              <rect x="270" y="70" width="30" height="30" fill="none" stroke="#ff0000" stroke-dasharray="4,2"/>
            </g>
          </svg>
        </div>
        <div id="parts">
          <div class="part" data-type="power" draggable="true">‚ö°</div>
          <div class="part" data-type="cpu" draggable="true">üß†</div>
          <div class="part" data-type="fuse" draggable="true">‚ö†Ô∏è</div>
        </div>
        <div id="timer">–°–ê–ú–û–£–ù–ò–ß–¢–û–ñ–ï–ù–ò–ï: <span id="countdown">03:00</span></div>
        <button id="btn-abort">–ü–†–ï–†–í–ê–¢–¨</button>
      </div>
    </div>
  `);

  setupDragDrop();
  startCountdown();
}

function hideGameScreen() {
  gameActive = false;
  document.getElementById('game-overlay')?.remove();
}

function setupDragDrop() {
  const parts = document.querySelectorAll('.part');
  const slots = document.querySelectorAll('#slots rect');

  parts.forEach(part => {
    part.addEventListener('dragstart', e => {
      e.dataTransfer.setData('type', part.dataset.type);
    });
  });

  slots.forEach((slot, i) => {
    slot.addEventListener('dragover', e => e.preventDefault());
    slot.addEventListener('drop', e => {
      e.preventDefault();
      const type = e.dataTransfer.getData('type');
      const correctTypes = ['power', 'cpu', 'fuse'];
      if (type === correctTypes[i]) {
        slot.style.fill = '#00ff00';
        slot.style.stroke = '#00ff00';
        playSound('beep');
        checkWin();
      } else {
        playSound('alert');
        addLog('–û–®–ò–ë–ö–ê: –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ô –ú–û–î–£–õ–¨', 'error');
      }
    });
  });

  document.getElementById('btn-abort').onclick = () => {
    addLog('–ü–†–û–¢–û–ö–û–õ –°–ê–ú–û–£–ù–ò–ß–¢–û–ñ–ï–ù–ò–Ø ‚Äî –û–¢–ú–ï–ù–Å–ù', 'warn');
    hideGameScreen();
  };
}

function startCountdown() {
  let sec = 180; // 3:00
  const timerEl = document.getElementById('countdown');
  const interval = setInterval(() => {
    if (!gameActive) return clearInterval(interval);
    sec--;
    const mm = String(Math.floor(sec / 60)).padStart(2, '0');
    const ss = String(sec % 60).padStart(2, '0');
    timerEl.textContent = `${mm}:${ss}`;
    if (sec <= 30) timerEl.style.color = '#ff0000';
    if (sec <= 0) {
      clearInterval(interval);
      addLog('–ë–£–†–ê–ù-4: –°–ê–ú–û–£–ù–ò–ß–¢–û–ñ–ï–ù–ò–ï –ê–ö–¢–ò–í–ò–†–û–í–ê–ù–û', 'error');
      setTimeout(() => hideGameScreen(), 2000);
    }
  }, 1000);
}

function checkWin() {
  const filled = document.querySelectorAll('#slots rect[fill="#00ff00"]').length;
  if (filled === 3) {
    addLog('–ú–û–î–£–õ–¨ –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù. –°–ê–ú–û–£–ù–ò–ß–¢–û–ñ–ï–ù–ò–ï –û–¢–ö–õ–Æ–ß–ï–ù–û.', 'warn');
    setTimeout(() => {
      addLog('–î–û–°–¢–£–ü –û–¢–ö–†–´–¢: –ü–†–û–¢–û–ö–û–õ ‚Äû–û–ö–û –ó–í–ï–†–Ø‚Äú ‚Äî –ì–û–¢–û–í –ö –ó–ê–ü–£–°–ö–£', 'error');
      hideGameScreen();
    }, 1500);
  }
}

// report.js
window.addEventListener('hashchange', () => {
  if (location.hash === '#report') showReportScreen();
  else hideReportScreen();
});

function showReportScreen() {
  document.body.insertAdjacentHTML('beforeend', `
    <div id="report-overlay" class="overlay">
      <div class="report-screen">
        <h2>–û–¢–ü–†–ê–í–ö–ê –¢–ï–•–ù–ò–ß–ï–°–ö–û–ì–û –û–¢–ß–Å–¢–ê</h2>
        <textarea id="report-text" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª...">–û–±—ä–µ–∫—Ç –ë—É—Ä–∞–Ω-4 –ø—Ä–æ—è–≤–ª—è–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤–Ω–µ–∑–µ–º–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –†–µ–∫–æ–º–µ–Ω–¥—É—é: –Ω–µ –¥–æ–≤–µ—Ä—è—Ç—å –ò–ò-–º–æ–¥—É–ª—é "–û–∫–æ –ó–≤–µ—Ä—è".</textarea>
        <div id="transmission" style="display:none">
          <div class="progress-bar"><div id="progress-fill"></div></div>
          <div id="tx-status">–ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–ï–†–ï–î–ê–ß–ò...</div>
        </div>
        <button id="btn-send">–û–¢–ü–†–ê–í–ò–¢–¨ –ù–ê –ë–ê–ó–£</button>
        <button id="btn-close">–ó–ê–ö–†–´–¢–¨</button>
      </div>
    </div>
  `);

  document.getElementById('btn-send').onclick = transmitReport;
  document.getElementById('btn-close').onclick = hideReportScreen;
}

function hideReportScreen() {
  document.getElementById('report-overlay')?.remove();
}

function transmitReport() {
  const btn = document.getElementById('btn-send');
  const tx = document.getElementById('transmission');
  const status = document.getElementById('tx-status');
  const fill = document.getElementById('progress-fill');

  btn.disabled = true;
  tx.style.display = 'block';

  // –ò–º–∏—Ç–∞—Ü–∏—è –ø–µ—Ä–µ–¥–∞—á–∏
  let progress = 0;
  const interval = setInterval(() => {
    progress += 2;
    fill.style.width = progress + '%';
    if (progress === 30) status.textContent = '–®–ò–§–†–û–í–ê–ù–ò–ï...';
    if (progress === 60) status.textContent = '–ó–ê–•–í–ê–¢ –ö–ê–ù–ê–õ–ê...';
    if (progress === 85) status.textContent = '–ü–ï–†–ï–î–ê–ß–ê –î–ê–ù–ù–´–•...';
    if (progress >= 100) {
      clearInterval(interval);
      status.textContent = '‚úÖ –û–¢–ß–Å–¢ –î–û–°–¢–ê–í–õ–ï–ù –ù–ê –ë–ê–ó–£-7 (–ß–ï–õ–Ø–ë–ò–ù–°–ö-70)';
      playSound('beep');
      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
      const report = {
        time: new Date().toISOString(),
        text: document.getElementById('report-text').value
      };
      const reports = JSON.parse(localStorage.getItem('reports') || '[]');
      reports.push(report);
      localStorage.setItem('reports', JSON.stringify(reports));
      setTimeout(hideReportScreen, 2000);
    }
  }, 80);
}

// radar.js
window.addEventListener('hashchange', () => {
  if (location.hash === '#radar') showRadar();
  else hideRadar();
});

function showRadar() {
  document.body.insertAdjacentHTML('beforeend', `
    <div id="radar-overlay" class="overlay">
      <div class="radar-screen">
        <h2>–†–ê–î–ò–û–õ–û–ö–ê–¶–ò–û–ù–ù–ê–Ø –°–¢–ê–ù–¶–ò–Ø ‚Äû–í–ò–•–†–¨‚Äú</h2>
        <svg id="radar-scan" width="500" height="500" viewBox="-250 -250 500 500">
          <circle r="240" fill="none" stroke="#004400" stroke-width="1"/>
          <circle r="180" fill="none" stroke="#003300" stroke-width="1"/>
          <circle r="120" fill="none" stroke="#002200" stroke-width="1"/>
          <circle r="60" fill="none" stroke="#001100" stroke-width="1"/>
          <line x1="0" y1="0" x2="0" y2="-240" stroke="#00ff00" stroke-width="2" id="scan-line"/>
          <g id="radar-dots"></g>
        </svg>
        <div id="radar-log">–û–ñ–ò–î–ê–ù–ò–ï –°–ò–ì–ù–ê–õ–û–í...</div>
      </div>
    </div>
  `);

  const line = document.getElementById('scan-line');
  let angle = 0;
  const dots = document.getElementById('radar-dots');
  const log = document.getElementById('radar-log');

  // –ò–º–∏—Ç–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
  setInterval(() => {
    if (Math.random() < 0.3) {
      const a = Math.random() * 360;
      const r = 60 + Math.random() * 180;
      const x = Math.sin(a * Math.PI/180) * r;
      const y = -Math.cos(a * Math.PI/180) * r;
      const dot = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
      dot.setAttribute('cx', x);
      dot.setAttribute('cy', y);
      dot.setAttribute('r', 3);
      dot.setAttribute('fill', '#00ff00');
      dot.setAttribute('class', 'blink-slow');
      dots.appendChild(dot);
      setTimeout(() => dot.remove(), 3000);
      log.textContent = `–°–ò–ì–ù–ê–õ: –ê–ó–ò–ú–£–¢ ${a.toFixed(1)}¬∞, –î–ò–°–¢–ê–ù–¶–ò–Ø ${r.toFixed(0)} –∫–º`;
      playSound('beep');
    }
  }, 800);

  // –í—Ä–∞—â–µ–Ω–∏–µ –ª—É—á–∞
  function rotate() {
    angle = (angle + 2) % 360;
    const rad = angle * Math.PI / 180;
    line.setAttribute('x2', Math.sin(rad) * 240);
    line.setAttribute('y2', -Math.cos(rad) * 240);
    if (document.getElementById('radar-overlay')) requestAnimationFrame(rotate);
  }
  rotate();
}

function hideRadar() {
  document.getElementById('radar-overlay')?.remove();
}


              </script>
                        </body>
                        </html>
                    
